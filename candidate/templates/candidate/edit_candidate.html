{% extends 'core/base.html' %}

{% block title %}

    RMS - Edit candidate

{% endblock %}

{% block content %}
    <h1 class="">Edit candidate</h1>
    <form method="post" action="." enctype="multipart/form-data">
        {% csrf_token %}

        <div class="row g-3 my-1 align-items-center justify-content-center">
            <div class="col-auto">
                <label class="col-form-label" for="id_name">Name:</label>
                <input type="text" class="form-control" name="name" value="{{ candidate.name }}" maxlength="255" autofocus required id="id_name">
            </div>
        </div>

        <div class="row g-3 my-1 align-items-center justify-content-center">
            <div class="col-auto">
                <label for="id_description">Description:</label>
                <input type="text" class="form-control" name="description" value="{{ candidate.description }}" cols="40" rows="10" id="id_description"></input>
            </div>
        </div>

        <div class="row g-3 my-1 align-items-center justify-content-center">
            <div class="col-auto">
                <label for="id_status">Status:</label>
                <select name="status" id="id_status" required>
                    <option value="new" {% if candidate.status == 'new' %}selected{% endif %}>New</option>
                    <option value="contacted" {% if candidate.status == 'contacted' %}selected{% endif %}>Contacted</option>
                    <option value="interviewed" {% if candidate.status == 'interviewed' %}selected{% endif %}>Interviewed</option>
                    <option value="hired" {% if candidate.status == 'hired' %}selected{% endif %}>Hired</option>
                    <option value="rejected" {% if candidate.status == 'rejected' %}selected{% endif %}>Rejected</option>
                </select>
            </div>
        </div>

        <div class="row g-3 my-1 align-items-center justify-content-center">
            <div class="col-auto">
                <label for="id_email">Email:</label>
                <input type="email" class="form-control" name="email" value="{{ candidate.email }}" maxlength="254" required id="id_email">
            </div>
        </div>

        <div class="row g-3 my-1 align-items-center justify-content-center">
            <div class="col-auto">
                <label for="id_phone">Phone:</label>
                <input type="tel" class="form-control" name="phone" value="{{ candidate.phone }}" required id="id_phone">
            </div>
        </div>

        <div class="row g-3 my-1 align-items-center justify-content-center">
            <div class="col-auto">
                <label for="id_image">Current image:</label>
                <a href="{{ candidate.image.url }}">{{ candidate.image.url }}</a>
                <input type="checkbox" name="image-clear" id="image-clear_id">
                <label for="image-clear_id">Clear</label>
                <input type="file" class="form-control" name="image" accept="image/*" id="id_image">
            </div>
        </div>

        <div class="row g-3 my-1 align-items-center justify-content-center">
            <div class="col-auto">
                <label for="id_resume">Update Resume:</label>
                <a href="{{ candidate.resume }}">{{ candidate.resume }}</a>
                <input type="checkbox" name="resume-clear" id="resume-clear_id">
                <label for="resume-clear_id">Clear</label>
                <input type="file" class="form-control" name="resume" id="id_resume">
            </div>
        </div>

        <div class="d-grid my-3 gap-2 d-md-flex justify-content-center">
            <button type="submit" class="btn btn-success bg-gradient"><a class="nav-link text-white" href="{% url 'candidate_details' candidate.id %}">Back</a></button>
            <button type="submit" class="btn btn-success bg-gradient">Save changes</button>
        </div>

    </form>

{% endblock %}